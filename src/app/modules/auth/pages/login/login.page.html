<ion-content>
  <section class="login">
    <img src="/assets/brand/logo_jamar_rojo.svg" alt="brand" width="300px" class="mb-4 mt-5">

    <h1>Vendedor</h1>
    <p class="mb-4">Nuestra app para hacer <br> familias felices</p>

    <form role="form" [formGroup]="form" (ngSubmit)="login($event)" class="form">

      <ion-item class="mb-4">
        <ion-input placeholder="Nombre de usuario" formControlName="username"
          (input)="form.get('username')?.setValue(form.get('username')?.value.toUpperCase())" type="text"
          [maxlength]="100" pattern="^[A-Z]+([A-Z]+[0-9]{0,4})*"></ion-input>
        <ion-icon name="person-circle-outline" slot="start" class="ion-align-self-center"></ion-icon>
        <ion-label class="ion-text-danger"
          *ngIf="form.get('username')!.dirty && (form.get('username')!.hasError('required')||form.get('username')!.hasError('pattern'))">
          Digite un nombre de usuario válido
        </ion-label>
      </ion-item>
      <ion-item class="mb-2">
        <ion-input placeholder="Contraseña" formControlName="password" type="password" [maxlength]="100"></ion-input>
        <ion-icon name="key-outline" slot="start" class="ion-align-self-center"></ion-icon>
        <ion-label class="ion-text-danger"
          *ngIf="form.get('password')!.dirty && form.get('password')!.hasError('required')">
          Digite una contraseña válida
        </ion-label>
      </ion-item>
      <a class="d-flex ion-align-items-center ion-justify-content-end mb-3" style="font-size: 13px;"
        [routerLink]="['/auth/password']">
        ¿Olvidaste tu contraseña?
      </a>

      <ion-buttons class="d-flex align-items-center justify-content-center gap-1">
        <ion-button type="button" shape="round" (click)="changeConnection('JP')" [fill]="c_emp=='JP'?'solid':'outline'"
          color="primary" class="with-background no-padding">
          <img src="https://static.abstractapi.com/country-flags/PA_flag.svg">
        </ion-button>
        <ion-button type="button" shape="round" (click)="changeConnection('JC')" [fill]="c_emp=='JC'?'solid':'outline'"
          color="primary" class="with-background no-padding">
          <img src="https://static.abstractapi.com/country-flags/CR_flag.svg">
        </ion-button>
        <ion-button type="button" shape="round" (click)="changeConnection('JA')" [fill]="c_emp=='JA'?'solid':'outline'"
          color="primary" class="with-background no-padding">
          <img src="https://static.abstractapi.com/country-flags/CO_flag.svg">
        </ion-button>
      </ion-buttons>


      <ion-button type="submit" color="primary" class="mt-3" expand="block" size="large">
        Iniciar sesión
      </ion-button>

    </form>

    <label class="w-100 text-center mt-3 mb-3">— ¿Tienes problemas? —</label>

    <ion-button type="submit" color="secondary" expand="block" size="large">
      Contáctanos
    </ion-button>

    <div class="w-100 text-center mt-5">
      <small>
        V 2021.0 <br>
        Todos los derechos reservados
      </small>
    </div>
  </section>
</ion-content>